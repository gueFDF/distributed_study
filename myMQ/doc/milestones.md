# mymq


## v.1
基础的单机版本mq
1. 实现一个消息队列的基本功能，服务发布与订阅，
2. 数据可靠性：服务端发送给客户端的消息，会先存放到一个inflghtmessage（map）中进行管理，并且开启一个超时处理协程，当客户端受到消息后，会向服务端发送ack,然后关闭超时处理协程，并且将消息从inflghtmessage中删除，消息超时未收到ack会将消息重新发送。
把消息放到了内存，只有当队列里消息的数量超过--mem-queue-size配置的限制时，才会对消息进行持久化。


3. 消息投递语义：只支持至少一次


4. 只实现了从http端推送消息
5. 消费模型：服务与发布


## v.2(预期)
1. 实现WAL模式(write ahead log),参考kafka的内存模型，采用稀疏索引

2. 实现消息压缩

3. 实现点对点的消费模型

4. 为客户端是实现消息推送的接口，支持多中消息模式（点对点，服务与发布）